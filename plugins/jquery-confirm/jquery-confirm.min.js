if(typeof jQuery=="undefined")throw new Error("jquery-confirm requires jQuery");var jconfirm,Jconfirm;(function(n){"use strict";n.fn.confirm=function(t,i){return typeof t=="undefined"&&(t={}),typeof t=="string"&&(t={content:t,title:i?i:!1}),n(this).each(function(){var i=n(this);i.on("click",function(r){r.preventDefault();var u=n.extend({},t);i.attr("data-title")&&(u.title=i.attr("data-title"));i.attr("data-content")&&(u.content=i.attr("data-content"));u.$target=i;i.attr("href")&&!t.confirm&&(u.confirm=function(){location.href=i.attr("href")});n.confirm(u)})}),n(this)};n.confirm=function(n,t){return typeof n=="undefined"&&(n={}),typeof n=="string"&&(n={content:n,title:t?t:!1}),jconfirm(n)};n.alert=function(n,t){return typeof n=="undefined"&&(n={}),typeof n=="string"&&(n={content:n,title:t?t:!1}),n.cancelButton=!1,jconfirm(n)};n.dialog=function(n,t){return typeof n=="undefined"&&(n={}),typeof n=="string"&&(n={content:n,title:t?t:!1}),n.cancelButton=!1,n.confirmButton=!1,n.confirmKeys=[13],jconfirm(n)};jconfirm=function(t){typeof t=="undefined"&&(t={});jconfirm.defaults&&n.extend(jconfirm.pluginDefaults,jconfirm.defaults);var t=n.extend({},jconfirm.pluginDefaults,t);return new Jconfirm(t)};Jconfirm=function(t){n.extend(this,t);this._init()};Jconfirm.prototype={_init:function(){var n=this;this._rand=Math.round(Math.random()*99999);this._buildHTML();this._bindEvents();setTimeout(function(){n.open();n._watchContent()},0)},_buildHTML:function(){var t=this;this.animation="anim-"+this.animation.toLowerCase();this.closeAnimation="anim-"+this.closeAnimation.toLowerCase();this.theme="jconfirm-"+this.theme.toLowerCase();this.animation=="anim-none"&&(this.animationSpeed=0);this._lastFocused=n("body").find(":focus");this.$el=n(this.template).appendTo(this.container).addClass(this.theme);this.$el.find(".jconfirm-box-container").addClass(this.columnClass);this.$el.find(".jconfirm-bg").css(this._getCSS(this.animationSpeed,1));this.$el.find(".jconfirm-bg").css("opacity",this.opacity);this.$b=this.$el.find(".jconfirm-box").css(this._getCSS(this.animationSpeed,this.animationBounce)).addClass(this.animation);this.$body=this.$b;this.rtl&&this.$el.addClass("rtl");this._contentReady=n.Deferred();this._modalReady=n.Deferred();this.$title=this.$el.find(".title");this.contentDiv=this.$el.find("div.content");this.$content=this.contentDiv;this.$contentPane=this.$el.find(".content-pane");this.$icon=this.$el.find(".icon-c");this.$closeIcon=this.$el.find(".closeIcon");this.$contentPane.css(this._getCSS(this.animationSpeed,1));this.setTitle();this.setIcon();this._setButtons();this.closeIconClass&&this.$closeIcon.html('<i class="'+this.closeIconClass+'"><\/i>');t._contentHash=this._hash(t.$content.html());n.when(this._contentReady,this._modalReady).then(function(){t.setContent();t.setTitle();t.setIcon()});this._getContent();this._imagesLoaded();this.autoClose&&this._startCountDown()},_unwatchContent:function(){clearInterval(this._timer)},_hash:function(){return btoa(encodeURIComponent(this.$content.html()))},_watchContent:function(){var n=this;this._timer=setInterval(function(){var t=n._hash(n.$content.html());n._contentHash!=t&&(n._contentHash=t,n.setDialogCenter(),n._imagesLoaded())},this.watchInterval)},_bindEvents:function(){var t=this,i=!1;this.$el.find(".jconfirm-scrollpane").click(function(){i||(t.backgroundDismiss?(t.cancel(),t.close()):(t.$b.addClass("hilight"),setTimeout(function(){t.$b.removeClass("hilight")},800)));i=!1});this.$el.find(".jconfirm-box").click(function(){i=!0});this.$confirmButton&&this.$confirmButton.click(function(n){n.preventDefault();var i=t.confirm(t.$b);t._stopCountDown();t.onAction("confirm");(typeof i=="undefined"||i)&&t.close()});this.$cancelButton&&this.$cancelButton.click(function(n){n.preventDefault();var i=t.cancel(t.$b);t._stopCountDown();t.onAction("cancel");(typeof i=="undefined"||i)&&t.close()});this.$closeButton&&this.$closeButton.click(function(n){n.preventDefault();t._stopCountDown();t.cancel();t.onAction("close");t.close()});this.keyboardEnabled&&setTimeout(function(){n(window).on("keyup."+this._rand,function(n){t.reactOnKey(n)})},500);n(window).on("resize."+this._rand,function(){t.setDialogCenter(!0)})},_getCSS:function(n,t){return{"-webkit-transition-duration":n/1e3+"s","transition-duration":n/1e3+"s","-webkit-transition-timing-function":"cubic-bezier(.36,1.1,.2, "+t+")","transition-timing-function":"cubic-bezier(.36,1.1,.2, "+t+")"}},_imagesLoaded:function(){var t=this;n.each(this.$content.find("img:not(.loaded)"),function(i,r){var u=setInterval(function(){var i=n(r).css("height");i!=="0px"&&(n(r).addClass("loaded"),t.setDialogCenter(),clearInterval(u))},40)})},_setButtons:function(){this.$btnc=this.$el.find(".buttons");this.confirmButton&&n.trim(this.confirmButton)!==""&&(this.$confirmButton=n('<button type="button" class="btn">'+this.confirmButton+"<\/button>").appendTo(this.$btnc).addClass(this.confirmButtonClass));this.cancelButton&&n.trim(this.cancelButton)!==""&&(this.$cancelButton=n('<button type="button" class="btn">'+this.cancelButton+"<\/button>").appendTo(this.$btnc).addClass(this.cancelButtonClass));this.confirmButton||this.cancelButton||this.$btnc.hide();this.confirmButton||this.cancelButton||this.closeIcon!==null||(this.$closeButton=this.$b.find(".closeIcon").show());this.closeIcon===!0&&(this.$closeButton=this.$b.find(".closeIcon").show())},setTitle:function(n){this.title=typeof n!="undefined"?n:this.title;this.$title.html(this.title||"")},setIcon:function(n){this.title=typeof string!="undefined"?n:this.title;this.$icon.html(this.icon?'<i class="'+this.icon+'"><\/i>':"")},setContent:function(n){var t=this;this.content=typeof n=="undefined"?this.content:n;this.content==""?(this.$content.html(this.content),this.$contentPane.hide()):(this.$content.html(this.content),this.$contentPane.show());this.$content.hasClass("loading")&&(this.$content.removeClass("loading"),this.$btnc.find("button").prop("disabled",!1))},_getContent:function(t){var i=this,u,r;t=t?t:this.content;this._isAjax=!1;this.content?typeof this.content=="string"?this.content.substr(0,4).toLowerCase()==="url:"?(this._isAjax=!0,this.$content.addClass("loading"),this.$btnc.find("button").prop("disabled",!0),u=this.content.substring(4,this.content.length),n.get(u).done(function(n){i.content=n;i._contentReady.resolve()}).always(function(n,t,r){typeof i.contentLoaded=="function"&&i.contentLoaded(n,t,r)})):(this.setContent(this.content),this._contentReady.reject()):typeof this.content=="function"?(this.$content.addClass("loading"),this.$btnc.find("button").attr("disabled","disabled"),r=this.content(this),typeof r!="object"?console.error("The content function must return jquery promise."):typeof r.always!="function"?console.error("The object returned is not a jquery promise."):(this._isAjax=!0,r.always(function(){i._contentReady.resolve()}))):console.error("Invalid option for property content, passed: "+typeof this.content):(this.content="",this.setContent(this.content),this._contentReady.reject());this.setDialogCenter()},_stopCountDown:function(){clearInterval(this.timerInterval);this.$cd&&this.$cd.remove()},_startCountDown:function(){var i=this.autoClose.split("|"),t,r;if(/cancel/.test(i[0])&&this.type==="alert")return!1;/confirm|cancel/.test(i[0])?(this.$cd=n('<span class="countdown">').appendTo(this["$"+i[0]+"Button"]),t=this,t.$cd.parent().click(),r=i[1]/1e3,this.timerInterval=setInterval(function(){t.$cd.html(" ("+(r-=1)+")");r===0&&(t.$cd.html(""),t.$cd.parent().trigger("click"),clearInterval(t.timerInterval))},1e3)):console.error("Invalid option "+i[0]+", must be confirm/cancel")},reactOnKey:function(t){var r=n(".jconfirm"),i;if(r.eq(r.length-1)[0]!==this.$el[0]||(i=t.which,this.contentDiv.find(":input").is(":focus")&&/13|32/.test(i)))return!1;n.inArray(i,this.cancelKeys)!==-1&&(this.$cancelButton?this.$cancelButton.click():this.close());n.inArray(i,this.confirmKeys)!==-1&&this.$confirmButton&&this.$confirmButton.click()},setDialogCenter:function(){var t,i,r,e,f;this.$contentPane.css("display")=="none"?(t=0,i=0):(t=this.$content.outerHeight(),i=this.$contentPane.height(),i==0&&(i=t));r=100;e=this.$content.outerWidth();this.$content.css({clip:"rect(0px "+(r+e)+"px "+t+"px -"+r+"px)"});this.$contentPane.css({height:t});var o=n(window).height(),s=this.$b.outerHeight()-i+t,h=(o-s)/2,u=100;s>o-u?(f={"margin-top":u/2,"margin-bottom":u/2},n("body").addClass("jconfirm-noscroll")):(f={"margin-top":h},n("body").removeClass("jconfirm-noscroll"));this.$b.css(f)},close:function(){var t=this,i;return this.isClosed()?!1:(typeof this.onClose=="function"&&this.onClose(),this._unwatchContent(),t._lastFocused.focus(),n(window).unbind("resize."+this._rand),this.keyboardEnabled&&n(window).unbind("keyup."+this._rand),t.$el.find(".jconfirm-bg").removeClass("seen"),n("body").removeClass("jconfirm-noscroll"),this.$b.addClass(this.closeAnimation),i=this.closeAnimation=="anim-none"?0:this.animationSpeed,setTimeout(function(){t.$el.remove()},i/4),jconfirm.record.closed+=1,jconfirm.record.currentlyOpen-=1,!0)},open:function(){var n=this,t;return this.isClosed()?!1:(n.$el.find(".jconfirm-bg").addClass("seen"),this.$b.removeClass(this.animation),this.$b.find("input[autofocus]:visible:first").focus(),jconfirm.record.opened+=1,jconfirm.record.currentlyOpen+=1,typeof this.onOpen=="function"&&this.onOpen(),t="jconfirm-box"+this._rand,this.$b.attr("aria-labelledby",t).attr("tabindex",-1).focus(),this.$title?this.$title.attr("id",t):this.$content&&this.$content.attr("id",t),setTimeout(function(){n.$b.css({"transition-property":n.$b.css("transition-property")+", margin"});n._modalReady.resolve()},this.animationSpeed),!0)},isClosed:function(){return this.$el.css("display")===""}};jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg"><\/div><div class="jconfirm-scrollpane"><div class="container"><div class="row"><div class="jconfirm-box-container"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="closeIcon">&times;<\/div><div class="title-c"><span class="icon-c"><\/span><span class="title"><\/span><\/div><div class="content-pane"><div class="content"><\/div><\/div><div class="buttons"><\/div><div class="jquery-clear"><\/div><\/div><\/div><\/div><\/div><\/div><\/div>',title:"Hello",content:"Are you sure to continue?",contentLoaded:function(){},icon:"",opacity:.2,confirmButton:"Okay",cancelButton:"Close",confirmButtonClass:"btn-default",cancelButtonClass:"btn-default",theme:"white",animation:"zoom",closeAnimation:"scale",animationSpeed:500,animationBounce:1.2,keyboardEnabled:!1,rtl:!1,confirmKeys:[13],cancelKeys:[27],container:"body",confirm:function(){},cancel:function(){},backgroundDismiss:!1,autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",onOpen:function(){},onClose:function(){},onAction:function(){}};jconfirm.record={opened:0,closed:0,currentlyOpen:0}})(jQuery)